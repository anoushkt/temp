
<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->


<title>eyeorg</title>
<meta name="description" content="A website to visualise amp maps">

<!-- Open Sans font -->
<link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>


<!-- Latest compiled and minified Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

<!-- Bootstrap CSS w/ custom brand color -->
<link href="/css/bootstrap.min.css" rel="stylesheet">

<!-- Our own CSS tweaks -->
<link href="/css/custom.css" rel="stylesheet">

<!-- favicon -->
<link rel="icon"
    type="image/png"
    href="">

<!-- facebook shares -->
<meta property="og:image" content="http://getfoodsniffer.com/wp-content/uploads/2018/10/free-logo-templates-sample-circular-wave-logo-template-1061-224.jpg" />

<meta property="og:image:secure_url" content="http://getfoodsniffer.com/wp-content/uploads/2018/10/free-logo-templates-sample-circular-wave-logo-template-1061-224.jpg" />

</head>


<body>
  <h1 style="font-family: Futura;color:maroon; position:absolute; left:100px; top:120px;font-size: 25px;">Countries</h1>
  <h2  style="font-family: Futura;color:maroon;position:absolute; left:510px; top:120px;font-size: 25px;">Protocols</h2>
  <h3  style="font-family: Futura;color:maroon;position:absolute; left:914px; top:120px;font-size: 25px;">Amp Factor</h3>


<div class="container" style="margin-top: 10px; margin-bottom: 20px">
<div class="row">

  <div class="col-sm-12">

    <nav class="navbar" role="navigation" style="margin-bottom: 0">
      <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" style="margin-top:-10px" href="/index.html"><img src="http://getfoodsniffer.com/wp-content/uploads/2018/10/free-logo-templates-sample-circular-wave-logo-template-1061-224.jpg" height="40px"></a>
      </div>


      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <!-- LINKS (right) -->
        <ul class="nav navbar-nav navbar-right">
        <li><a href="http://localhost:3000/articles">Home</a></li>
        <li><a href="http://localhost:3000/books/">Visualise</a></li>
        <li><a href="http://localhost:3000/articles/about">About</a></li>
        </ul>
      </div><!-- /.navbar-collapse -->

      </div><!-- /.container-fluid -->
    </nav><!-- navbar -->

    <hr style="margin-top: 5px; margin-bottom: 0px;">
  </div>  <!-- col -->

</div>  <!-- row -->



<!-- ALERTS -->
<div class="row">
  <div class="col-md-12" id="alerts-container">
  </div>  <!-- col -->
</div>  <!-- row -->

</div> <!-- container -->


<footer>

<div class="row" style="margin-top: 100px">

</div>  <!-- row -->


  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- bbq jquery plugin (for query string deparam function) -->
<script src="/js/jquery.ba-bbq.min.js"></script>

<!-- Latest compiled and minified Bootstrap JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<!-- Common js code -->
<script src="/js/common.js"></script>

<!-- page-specific scripts, if any -->



    <!-- Google analytics -->


<script>     function update(){
     // For each check box:
     d3.selectAll(".option").each(function(d){
       cb = d3.select(this);
       grp = cb.property("value")
       // If the box is check, I show the group
       if(cb.property("checked")){
         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 1).attr("r", function(d){if (d.protocol==document.querySelector('input[name="contact"]:checked').value)
         {return d.ampFactor ;}
         else {return 0;} } )
       // Otherwise I hide it
       }else{
         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 0).attr("r", 0)
       }
     })
   }
</script>
<meta charset="utf-8">
<style>
.dropdown {
    padding: 20px 20px;
    font-size: 30px;
    border: none;
    width:120px;
   font-family: "Comic Sans MS", cursive, sans-serif;
   font-color: "white"
  position: absolute;
  left: 30px;
  top: 65px;
}
.dropdown-content {
      display: none;
      position: absolute;
      background-color: lightgrey;
      font-size: 15px;
      color: black;
      min-width: #px;
      z-index: 1;
}
.dropdown:hover .dropdown-content {
  display: block;
}
</style>
<select class="js-example-basic-multiple" name="states[]" multiple="multiple" style="position:absolute;top:35px; left:900px;width:400px; max-height:5px;overflow: scroll;">
  <option value="Afghanistan" > Afghanistan</option>
  <br>
  <option value="Åland Islands" >Åland Islands</option>
  <br>
  <option value="Albania" ><Albania</option>
   <br>
  <option value="Algeria">Algeria</option>
    <br>

  <option value="American Samoa">American Samoa</option>
    <br>
  <option value="Andorra" >Andorra</option>
    <br>
  <option value="Angola">Angola</option>
   <br>
  <option value="Anguilla">Anguilla</option>
     <br>
  <option  value="Antarctica">Antarctica</option>
      <br>
  <option  value="Antigua and Barbuda" >Antigua and Barbuda</option>
    <br><option value="Argentina" >Argentina</option>
    <br><option value="Armenia" >Armenia</option>
    <br><option value="Aruba" >Aruba</option>
  <br><option value="Australia" >Australia</option>
  <br><option value="Austria" >Austria</option>
  <br><option value="Azerbaijan" >Azerbaijan</option>
  <br><option value="Bahamas" >Bahamas</option>
  <br><option value="Bahrain" >Bahrain</option>
  <br><option value="Bangladesh" >Bangladesh</option>
  <br><option value="Barbados" >Barbados</option>
  <br><option value="Belarus" >Belarus</option>
  <br><option value="Belgium" >Belgium</option>
  <br><option value="Belize" >Belize</option>
  <br><option value="Benin" >Benin</option>
  <br><option value="Bermuda" >Bermuda</option>
  <br><option value="Bhutan" >Bhutan</option>
  <br><option value="Bolivia" >Bolivia</option>
  <br><option value="Bosnia and Herzegovina" >Bosnia and Herzegovina</option>
  <br><option value="Botswana" >Botswana</option>
  <br><option value="Bouvet Island" >Bouvet Island</option>
  <br><option value="Brazil" >Brazil</option>
  <br><option value="British Indian Ocean Territory" >British Indian Ocean Territory</option>
  <br><option value="Brunei Darussalam" >Brunei Darussalam</option>
  <br><option value="Bulgaria" >Bulgaria</option>
  <br><option value="Burkina Faso" >Burkina Faso</option>
  <br><option value="Burundi" >Burundi</option>
  <br><option value="Cambodia" >Cambodia</option>
  <br><option value="Cameroon" >Cameroon</option>
  <br><option value="Canada" >Canada</option>
  <br><option value="Cape Verde" >Cape Verde</option>
  <br><option value="Cayman Islands" >Cayman Islands</option>
  <br><option value="Central African Republic" >Central African Republic</option>
  <br><option value="Chad" >Chad</option>
  <br><option value="Chile" >Chile</option>
  <br><option value="China" >China</option>
  <br><option value="Christmas Island" >Christmas Island</option>
  <br><option value="Colombia" >Colombia</option>
  <br><option value="Comoros" >Comoros</option>
  <br><option value="Congo" >Congo</option>
  <br><option value="Congo, The Democratic Republic of The" >Congo, The Democratic Republic of The</option>
  <br><option value="Cook Islands" >Cook Islands</option>
  <br><option value="Costa Rica" >Costa Rica</option>
  <br><option value="Croatia" >Croatia</option>
  <br><option value="Cuba" >Cuba</option>
  <br><option value="Cyprus" >Cyprus</option>
  <br><option value="Czech Republic" >Czech Republic</option>
  <br><option value="Denmark" >Denmark</option>
  <br><option value="Djibouti" >Djibouti</option>
  <br><option value="Dominica" >Dominica</option>
  <br><option value="Dominican Republic" >Dominican Republic</option>
  <br><option value="Ecuador" >Ecuador</option>
  <br><option value="El Salvador" >El Salvador</option>
  <br><option value="Equatorial Guinea" >Equatorial Guinea</option>
  <br><option value="Eritrea" >Eritrea</option>
  <br><option value="Estonia" >Estonia</option>
  <br><option value="Ethiopia" >Ethiopia</option>
  <br><option value="Faroe Islands" >Faroe Islands</option>
  <br><option value="Fiji" >Fiji</option>
  <br><option value="Finland" >Finland</option>
  <br><option value="France" >France</option>
  <br><option value="French Guiana" >French Guiana</option>
  <br><option value="French Polynesia" >French Polynesia</option>
  <br><option value="French Southern Territories" >French Southern Territories</option>
  <br><option value="Gabon" >Gabon</option>
  <br><option value="Gambia" >Gambia</option>
  <br><option value="Georgia" >Georgia</option>
  <br><option value="Germany" >Germany</option>
  <br><option value="Ghana" >Ghana</option>
  <br><option value="Gibraltar" >Gibraltar</option>
  <br><option value="Greece" >Greece</option>
  <br><option value="Greenland" >Greenland</option>
  <br><option value="Grenada" >Grenada</option>
  <br><option value="Guadeloupe" >Guadeloupe</option>
  <br><option value="Guam" >Guam</option>
  <br><option value="Guatemala" >Guatemala</option>
  <br><option value="Guernsey" >Guernsey</option>
  <br><option value="Guinea" >Guinea</option>
  <br><option value="Guyana" >Guyana</option>
  <br><option value="Haiti" >Haiti</option>
  <br><option value="Heard Island and Mcdonald Islands" >Heard Island and Mcdonald Islands</option>
  <br><option value="Honduras" >Honduras</option>
  <br><option value="Hong Kong" >Hong Kong</option>
  <br><option value="Hungary" >Hungary</option>
  <br><option value="Iceland" >Iceland</option>
  <br><option value="India" >India</option>
  <br><option value="Indonesia" >Indonesia</option>
  <br><option value="Iran, Islamic Republic of" >Iran, Islamic Republic of</option>
  <br><option value="Iraq" >Iraq</option>
  <br><option value="Ireland" >Ireland</option>
  <br><option value="Isle of Man" >Isle of Man</option>
  <br><option value="Israel" >Israel</option>
  <br><option value="Italy" >Italy</option>
  <br><option value="Jamaica" >Jamaica</option>
  <br><option value="Japan" >Japan</option>
  <br><option value="Jersey" >Jersey</option>
  <br><option value="Jordan" >Jordan</option>
  <br><option value="Kazakhstan" >Kazakhstan</option>
  <br><option value="Kenya" >Kenya</option>
  <br><option value="Kiribati" >Kiribati</option>
  <br><option value="Korea" >Korea</option>
  <br><option value="Kuwait" >Kuwait</option>
  <br><option value="Kyrgyzstan" >Kyrgyzstan</option>
  <br><option value="Latvia" >Latvia</option>
  <br><option value="Lebanon" >Lebanon</option>
  <br><option value="Lesotho" >Lesotho</option>
  <br><option value="Liberia" >Liberia</option>
  <br><option value="Libyan Arab Jamahiriya" >Libyan Arab Jamahiriya</option>
  <br><option value="Liechtenstein" >Liechtenstein</option>
  <br><option value="Lithuania" >Lithuania</option>
  <br><option value="Luxembourg" >Luxembourg</option>
  <br><option value="Macao" >Macao</option>
  <br><option value="Macedonia" >Macedonia</option>
  <br><option value="Madagascar" >Madagascar</option>
  <br><option value="Malawi" >Malawi</option>
  <br><option value="Malaysia" >Malaysia</option>
  <br><option value="Maldives" >Maldives</option>
  <br><option value="Mali" >Mali</option>
  <br><option value="Malta" >Malta</option>
  <br><option value="Marshall Islands" >Marshall Islands</option>
  <br><option value="Martinique" >Martinique</option>
  <br><option value="Mauritania" >Mauritania</option>
  <br><option value="Mauritius" >Mauritius</option>
  <br><option value="Mayotte" >Mayotte</option>
  <br><option value="Mexico" >Mexico</option>
  <br><option value="Micronesia" >Micronesia</option>
  <br><option value="Moldova" >Moldova</option>
  <br><option value="Monaco" >Monaco</option>
  <br><option value="Mongolia" >Mongolia</option>
  <br><option value="Montenegro" >Montenegro</option>
  <br><option value="Montserrat" >Montserrat</option>
  <br><option value="Morocco" >Morocco</option>
  <br><option value="Mozambique" >Mozambique</option>
  <br><option value="Myanmar" >Myanmar</option>
  <br><option value="Namibia" >Namibia</option>
  <br><option value="Nauru" >Nauru</option>
  <br><option value="Nepal" >Nepal</option>
  <br><option value="Netherlands" >Netherlands</option>
  <br><option value="Netherlands Antilles" >Netherlands Antilles</option>
  <br><option value="New Caledonia" >New Caledonia</option>
  <br><option value="New Zealand" >New Zealand</option>
  <br><option value="Nicaragua" >Nicaragua</option>
  <br><option value="Niger" >Niger</option>
  <br><option value="Nigeria" >Nigeria</option>
  <br><option value="Niue" >Niue</option>
  <br><option value="Norfolk Island" >Norfolk Island</option>
  <br><option value="Northern Mariana Islands" >Northern Mariana Islands</option>
  <br><option value="Norway" >Norway</option>
  <br><option value="Oman" >Oman</option>
  <br><option value="Pakistan" >Pakistan</option>
  <br><option value="Palau" >Palau</option>
  <br><option value="Palestinian Territory" >Palestinian Territory</option>
  <br><option value="Panama" >Panama</option>
  <br><option value="Papua New Guinea" >Papua New Guinea</option>
  <br><option value="Paraguay" >Paraguay</option>
  <br><option value="Peru" >Peru</option>
  <br><option value="Philippines" >Philippines</option>
  <br><option value="Pitcairn" >Pitcairn</option>
  <br><option value="Poland" >Poland</option>
  <br><option value="Portugal" >Portugal</option>
  <br><option value="Puerto Rico" >Puerto Rico</option>
  <br><option value="Qatar" >Qatar</option>
  <br><option value="Reunion" >Reunion</option>
  <br><option value="Romania" >Romania</option>
  <br><option value="Russian Federation" >Russian Federation</option>
  <br><option value="Rwanda" >Rwanda</option>
  <br><option value="Saint Helena" >Saint Helena</option>
  <br><option value="Saint Kitts and Nevis" >Saint Kitts and Nevis</option>
  <br><option value="Saint Lucia" >Saint Lucia</option>
  <br><option value="Saint Pierre and Miquelon" >Saint Pierre and Miquelon</option>
  <br><option value="Samoa" >Samoa</option>
  <br><option value="San Marino" >San Marino</option>
  <br><option value="Sao Tome and Principe" >Sao Tome and Principe</option>
  <br><option value="Saudi Arabia" >Saudi Arabia</option>
  <br><option value="Senegal" >Senegal</option>
  <br><option value="Serbia" >Serbia</option>
  <br><option value="Seychelles" >Seychelles</option>
  <br><option value="Sierra Leone" >Sierra Leone</option>
  <br><option value="Singapore" >Singapore</option>
  <br><option value="Slovakia" >Slovakia</option>
  <br><option value="Slovenia" >Slovenia</option>
  <br><option value="Solomon Islands" >Solomon Islands</option>
  <br><option value="Somalia" >Somalia</option>
  <br><option value="South Africa" >South Africa</option>
  <br><option value="South Georgia and The South Sandwich Islands" >South Georgia and The South Sandwich Islands</option>
  <br><option value="Spain" >Spain</option>
  <br><option value="Sri Lanka" >Sri Lanka</option>
  <br><option value="Sudan" >Sudan</option>
  <br><option value="Suriname" >Suriname</option>
  <br><option value="Svalbard and Jan Mayen" >Svalbard and Jan Mayen</option>
  <br><option value="Swaziland" >Swaziland</option>
  <br><option value="Sweden" >Sweden</option>
  <br><option value="Switzerland" >Switzerland</option>
  <br><option value="Syrian Arab Republic" >Syrian Arab Republic</option>
  <br><option value="Taiwan" >Taiwan</option>
  <br><option value="Tajikistan" >Tajikistan</option>
  <br><option value="Tanzania" >Tanzania</option>
  <br><option value="Thailand" >Thailand</option>
  <br><option value="Togo" >Togo</option>
  <br><option value="Tokelau" >Tokelaue</option>
  <br><option value="Tonga" >Tonga</option>
  <br><option value="Trinidad and Tobago" >Trinidad and Tobago</option>
  <br><option value="Tunisia" >Tunisia</option>
  <br><option value="Turkey" >Turkey</option>
  <br><option value="Turkmenistan" >Turkmenistan</option>
  <br><option value="Turks and Caicos Islands" >Turks and Caicos Islands</option>
  <br><option value="Tuvalu" >Tuvalu</option>
  <br><option value="Uganda" >Uganda</option>
  <br><option value="Ukraine" >Ukraine</option>
  <br><option value="United Arab Emirates" >United Arab Emirates</option>
  <br><option value="unitedKingdom" >UnitedKingdom</option>
  <br><option value="unitedStates" >unitedStates</option>
  <br><option value="United States Minor Outlying Islands" >United States Minor Outlying Islands</option>
  <br><option value="Uruguay" >Uruguay</option>
  <br><option value="Uzbekistan" >Uzbekistan</option>
  <br><option value="Vanuatu" >Vanuatu</option>
  <br><option value="Venezuela" >Venezuela</option>
  <br><option value="Viet Nam" >Viet Nam</option>
  <br><option value="Virgin Islands" >Virgin Islands</option>
  <br><option value="Wallis and Futuna" >Wallis and Futuna</option>
  <br><option value="Western Sahara" >Western Sahara</option>
  <br><option value="Yemen" >Yemen</option>
  <br><option value="Zambia" >Zambia</option>
  <br><option value="Zimbabwe" >Zimbabwe</option>
</select>

<select class="js-example-basic-multiple" name="prot[]" multiple="multiple" style="position:relative;top:35px; left:900px;width:400px; max-height:5px;overflow: scroll;">
  <option value="dns" > dns</option>
  <br>
  <option value="dnsallfilter" >dnsallfilter</option>
  <br>
  <option value="ntpprivate" > ntpprivate</option>
   <br>
  <option value="chargen">chargen</option>
    <br>
    <option value="ssdp">ssdp</option>
  </select>



  <select class="js-example-basic-multiple" name="af[]" multiple="multiple" style="position:relative;top:35px; left:900px;width:400px; max-height:5px;overflow: scroll;">
    <option value="<10" > less than 10</option>
    <br>
    <option value="10<af<20" > between 10 and 20</option>
    <br>
    <option value="20<af<30" > between 20 and 30</option>
     <br>
    <option value="30<af<40">between 30 and 40</option>
      <br>
      <option value=">40">greater than 40</option>
    </select>
<script>
function myFunction() {update();
}
</script>
<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>



<!-- Create an element where the map will take place -->
<svg id="my_dataviz" width="1350" height="1000"></svg>
<script>
// The svg
var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");
// Map and projection
var projection = d3.geoNaturalEarth()
    .scale(width / 1.3 / Math.PI)
    .translate([width / 2, height / 2])
  var markers = [{"name": "59.52.224.9", "ampFactor": 7.9545, "radius": 3.97725, "fillKey": 1, "latitude": 28.1938, "longitude": 115.7836, "city": "Jianguang", "country": "China", "protocol": "dns"}, {"name": "146.88.66.214", "ampFactor": 62.6061, "radius": 31.30305, "fillKey": 1, "latitude": 14.6477, "longitude": 121.0493, "city": "Quezon City", "country": "Philippines", "protocol": "dns"}, {"name": "220.247.172.229", "ampFactor": 0.0, "radius": 0.0, "fillKey": 1, "latitude": -6.1741, "longitude": 106.8296, "city": "Jakarta", "country": "Indonesia", "protocol": "dns"}, {"name": "107.154.51.107", "ampFactor": 4.197, "radius": 2.0985, "fillKey": 1, "latitude": 37.751, "longitude": -97.822, "city": null, "country": "unitedStates", "protocol": "dns"}, {"name": "166.62.58.44", "ampFactor": 10.4394, "radius": 5.2197, "fillKey": 1, "latitude": 33.6013, "longitude": -111.8867, "city": "Scottsdale", "country": "unitedStates", "protocol": "dns"}, {"name": "39.129.208.114", "ampFactor": 0.0, "radius": 0.0, "fillKey": 1, "latitude": 25.0389, "longitude": 102.7183, "city": "Kunming", "country": "China", "protocol": "dns"}, {"name": "221.7.103.25", "ampFactor": 8.1212, "radius": 4.0606, "fillKey": 1, "latitude": 29.5569, "longitude": 106.5531, "city": null, "country": "China", "protocol": "dns"}, {"name": "96.72.225.114", "ampFactor": 23.4545, "radius": 11.72725, "fillKey": 1, "latitude": 39.6192, "longitude": -85.4321, "city": "Rushville", "country": "unitedStates", "protocol": "dns"}, {"name": "213.145.139.30", "ampFactor": 18.1364, "radius": 9.0682, "fillKey": 1, "latitude": 41.0, "longitude": 75.0, "city": null, "country": "Kyrgyzstan", "protocol": "dns"}, {"name": "67.231.250.14", "ampFactor": 10.4394, "radius": 5.2197, "fillKey": 1, "latitude": 42.747, "longitude": -73.7527, "city": "Latham", "country": "unitedStates", "protocol": "dns"}, {"name": "89.238.165.20", "ampFactor": 20.5942, "radius": 10.2971, "fillKey": 1, "latitude": 51.4973, "longitude": -0.1553, "city": "London", "country": "unitedKingdom", "protocol": "dns"}, {"name": "217.10.200.62", "ampFactor": 18.1818, "radius": 9.0909, "fillKey": 1, "latitude": 44.4354, "longitude": 26.1033, "city": "Bucharest", "country": "Romania", "protocol": "dns"}, {"name": "8.46.206.164", "ampFactor": 23.4545, "radius": 11.72725, "fillKey": 1, "latitude": 40.2874, "longitude": -84.1622, "city": "Sidney", "country": "unitedStates", "protocol": "dns"}, {"name": "118.218.81.122", "ampFactor": 8.1818, "radius": 4.0909, "fillKey": 1, "latitude": 37.5112, "longitude": 126.97409999999999, "city": null, "country": "South Korea", "protocol": "dns"}, {"name": "64.2.160.190", "ampFactor": 23.4545, "radius": 11.72725, "fillKey": 1, "latitude": 37.751, "longitude": -97.822, "city": null, "country": "unitedStates", "protocol": "dns"}, {"name": "59.60.23.108", "ampFactor": 8.1818, "radius": 4.0909, "fillKey": 1, "latitude": 24.4798, "longitude": 118.0819, "city": null, "country": "China", "protocol": "dns"}, {"name": "201.184.40.48", "ampFactor": 0.0, "radius": 0.0, "fillKey": 1, "latitude": 3.4384, "longitude": -76.5232, "city": "Santiago de Cali", "country": "Colombia", "protocol": "dns"}, {"name": "45.56.85.215", "ampFactor": 1.4242, "radius": 0.7121, "fillKey": 1, "latitude": 37.5625, "longitude": -122.0004, "city": "Fremont", "country": "unitedStates", "protocol": "dns"}, {"name": "146.83.132.8", "ampFactor": 1.0, "radius": 0.5, "fillKey": 1, "latitude": -29.9533, "longitude": -71.3436, "city": "Coquimbo", "country": "Chile", "protocol": "dns"}, {"name": "220.248.87.98", "ampFactor": 0.0, "radius": 0.0, "fillKey": 1, "latitude": 31.0449, "longitude": 121.4012, "city": null, "country": "China", "protocol": "dns"}, {"name": "67.231.250.28", "ampFactor": 10.4394, "radius": 5.2197, "fillKey": 1, "latitude": 42.747, "longitude": -73.7527, "city": "Latham", "country": "unitedStates", "protocol": "dns"}, {"name": "96.71.229.141", "ampFactor": 1.4242, "radius": 0.7121, "fillKey": 1, "latitude": 36.317, "longitude": -119.3087, "city": "Visalia", "country": "unitedStates", "protocol": "dns"}, {"name": "217.12.123.98", "ampFactor": 50.2727, "radius": 25.13635, "fillKey": 1, "latitude": 47.0052, "longitude": 28.8573, "city": "Chisinau", "country": "Republic of Moldova", "protocol": "dns"}, {"name": "201.187.102.185", "ampFactor": 10.4394, "radius": 5.2197, "fillKey": 1, "latitude": -33.4378, "longitude": -70.6503, "city": null, "country": "Chile", "protocol": "dns"}, {"name": "153.99.125.167", "ampFactor": 19.4848, "radius": 9.7424, "fillKey": 1, "latitude": 32.0617, "longitude": 118.7778, "city": null, "country": "China", "protocol": "dns"}, {"name": "61.240.23.66", "ampFactor": 8.0303, "radius": 4.01515, "fillKey": 1, "latitude": 34.7725, "longitude": 113.7266, "city": null, "country": "China", "protocol": "dns"}, {"name": "217.13.222.24", "ampFactor": 0.0, "radius": 0.0, "fillKey": 1, "latitude": 44.0486, "longitude": 43.0594, "city": "Pyatigorsk", "country": "Russia", "protocol": "dns"},{"name": "112.91.152.161", "ampFactor": 22.085714285714282, "radius": 11.042857142857141, "fillKey": "defaultBubble", "latitude": 23.1167, "longitude": 113.25, "city": null, "country": "China", "protocol": "dnsallfilter"}];
// Load external data and boot
d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson", function(data){
    // Draw the map
    svg.append("g")
        .selectAll("path")
        .data(data.features)
        .enter().append("path")
            .attr("fill", "#69b3a2")
            .attr("d", d3.geoPath()
                .projection(projection)
            )
            // Add circles:
                svg
                  .selectAll("myCircles")
                  .data(markers)
                  .enter()
                  .append("circle")
                    .attr("class" , function(d){ return d.country })
                    .attr("protocol" , function(d){ return d.protocol })
                    .attr("cx", function(d){ return projection([d.longitude, d.latitude])[0] })
                    .attr("cy", function(d){ return projection([d.longitude, d.latitude])[1] })
                    .attr("r", function(d){return d.ampFactor})
                    .style("fill", "#3697a")
                    .attr("stroke", "#b3697a")
                    .attr("stroke-width", 3)
                    .attr("fill-opacity", .4)
                    function update(){
                     // For each check box:
                     d3.selectAll(".option").each(function(d){
                       cb = d3.select(this);
                       grp = cb.property("value")
                       // If the box is check, I show the group
                       if(cb.property('selected')){
                         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 1).attr("r", function(d){if (d.protocol==document.querySelector('input[name="contact"]:checked').value)
                         {return d.ampFactor ;}
                         else {return 0;} } )
                       // Otherwise I hide it
                       }else{
                         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 0).attr("r", 0)
                       }
                     })
                   }
                   // When a button change, I run the update function
                   d3.selectAll(".option").on("change",update);
                   d3.selectAll(".checkbox").on("change",update);
                   // And I initialize it at the beginning
                   update()
})
</script>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/js/select2.min.js"></script>
</head>
<script>window.jQuery || document.write(unescape('%3Cscript src="path/to/jquery.min.js"%3E%3C/script%3E'))

  $(".js-example-tags").select2({
    tags: true
  });
  // In your Javascript (external .js resource or <script> tag)
  $(".js-example-tags").select2({
    tags: true
  });
  $(".js-example-tags").select2({
    tags: true
  });
  $(document).ready(function() {
      $('.js-example-basic-multiple').select2();
        tags: true
  });
</script>
<style>
  .select2-container .select2-selection {
    height: 10px;
    overflow: scroll;
}
</style>
<script>
  $(".js-example-tags").select2({
  tags: true
});</script>
